<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>AI Fashion Chat</title>
    <style>
        body {
            background: #343541;
            font-family: "Inter", "Segoe UI", Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        .chat-root {
            max-width: 700px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            color: #fff;
            font-size: 1.5em;
            font-weight: 600;
            padding: 32px 0 16px 0;
            text-align: center;
            letter-spacing: 1px;
        }

        .chat-messages {
            flex: 1;
            padding: 0 0 24px 0;
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .message {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            padding: 0 24px;
        }

        .message.ai {
            justify-content: flex-start;
        }

        .message.user {
            justify-content: flex-end;
        }

        .bubble {
            border-radius: 12px;
            padding: 18px 22px;
            max-width: 70%;
            font-size: 1.08em;
            line-height: 1.6;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.07);
        }

        .bubble.ai {
            background: #444654;
            color: #fff;
        }

        .bubble.user {
            background: #ececf1;
            color: #222;
        }

        .product-list {
            display: flex;
            flex-direction: column;
            gap: 18px;
            margin-top: 10px;
        }

        .product-card {
            display: flex;
            align-items: center;
            background: #353740;
            border-radius: 10px;
            padding: 14px 18px;
            gap: 18px;
            color: #fff;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);
        }

        .product-card img {
            width: 90px;
            height: 90px;
            object-fit: cover;
            border-radius: 8px;
            background: #fff;
        }

        .product-info {
            flex: 1;
        }

        .product-info b {
            font-size: 1.1em;
        }

        .product-info a {
            color: #10a37f;
            text-decoration: none;
            font-weight: 500;
        }

        .product-info a:hover {
            text-decoration: underline;
        }

        .chat-form {
            background: #40414f;
            padding: 24px;
            border-top: 1px solid #2a2b32;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .chat-form input[type="file"],
        .chat-form input[type="text"] {
            background: #353740;
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 10px;
            font-size: 1em;
        }

        .chat-form input[type="text"]::placeholder {
            color: #aaa;
        }

        .chat-form button {
            background: #10a37f;
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 12px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .chat-form button:hover {
            background: #0e8c6c;
        }

        .footer {
            text-align: center;
            color: #aaa;
            margin: 24px 0 8px 0;
            font-size: 0.95em;
        }
    </style>
</head>

<body>
    <div class="chat-root">
        <div class="chat-header">
            AI Fashion Assistant
        </div>
        <div class="chat-messages">
            <div class="message ai">
                <div class="bubble ai">
                    üëã –ü—Ä–∏–≤–µ—Ç! –Ø —Ç–≤–æ–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ –º–æ–¥–µ.<br>
                    –ü—Ä–∏–∫—Ä–µ–ø–∏ —Ñ–æ—Ç–æ –æ–¥–µ–∂–¥—ã –∏ –Ω–∞–ø–∏—à–∏, —á—Ç–æ –∏—â–µ—à—å ‚Äî —è –ø–æ–¥–±–µ—Ä—É –ø–æ—Ö–æ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã —Å Ozon!
                </div>
            </div>
            {% if user_photo %}
            <div class="message user">
                <div class="bubble user">
                    <div>–í—ã –∑–∞–≥—Ä—É–∑–∏–ª–∏ —Ñ–æ—Ç–æ:</div>
                    <img src="{{ user_photo }}" alt="–í–∞—à–µ —Ñ–æ—Ç–æ" style="max-width:160px; margin:10px 0;">
                    {% if comment %}
                    <div style="margin-top:8px;">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: {{ comment }}</div>
                    {% endif %}
                </div>
            </div>
            {% endif %}
            {% if items %}
            <div class="message ai">
                <div class="bubble ai">
                    –í–æ—Ç —á—Ç–æ —è –Ω–∞—à—ë–ª –¥–ª—è –≤–∞—Å:
                    <div class="product-list">
                        {% for item in items %}
                        <div class="product-card">
                            <img src="{{ item.image_url }}" alt="{{ item.name }}">
                            <div class="product-info">
                                <b>{{ item.name }}</b><br>
                                <span>–¶–µ–Ω–∞: {{ item.price }}</span><br>
                                <span>–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {{ item.category }}</span><br>
                                <a href="{{ item.url }}" target="_blank">–°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ Ozon</a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
        <form class="chat-form" method="post" enctype="multipart/form-data">
            <input type="file" name="photo" accept="image/*" required>
            <input type="text" name="comment" placeholder="–ß—Ç–æ –∏—â–µ–º? (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ø–ª–∞—Ç—å–µ, –∫–æ—Å—Ç—é–º)">
            <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </form>
        <div class="footer">
            AI Fashion Assistant &copy; 2025
        </div>
    </div>
</body>

</html>